<div class="p-8 mt-4">
    <div class="shadow p-6">
        @if (isEdit) {
            <ng-template #createTitle><h4>Edit Patient</h4></ng-template>
        }@else {
            <ng-template #createTitle><h4>Create Patient</h4></ng-template>
        }
        <form [formGroup]="patientForm" (ngSubmit)="save()">
            <div class="w-full flex flex-wrap">
                <mat-form-field class="w-full">
                    <mat-label>DNI</mat-label>
                    <input type="text" matInput placeholder="DNI" formControlName="DNI">
                </mat-form-field>
            </div>
            <div class="w-full flex flex-wrap">
                <mat-form-field class="w-full">
                    <mat-label>Nombre</mat-label>
                    <input type="text" matInput placeholder="Nombre" formControlName="Nombre">
                </mat-form-field>
            </div>
            <div class="w-full flex flex-wrap">
                <mat-form-field class="w-full">
                    <mat-label>Apellido</mat-label>
                    <input type="text" matInput placeholder="Apellido" formControlName="Apellido">
                </mat-form-field>
            </div>
            <div class="w-full flex flex-wrap">
                <mat-form-field class="w-full">
                    <mat-label>Correo Electronico</mat-label>
                    <input type="email" matInput placeholder="Correo Electronico" formControlName="CorreoElectronico">
                </mat-form-field>
            </div>
            <div class="w-full flex flex-wrap">
                <mat-form-field class="w-full">
                    <mat-label>Telefono</mat-label>
                    <input type="number" matInput placeholder="Telefono" formControlName="Telefonos">
                </mat-form-field>
            </div>
            <div class="w-full flex flex-wrap">
                <mat-form-field class="w-full">
                    <mat-label>Fecha de Nacimiento</mat-label>
                    <input matInput [matDatepicker]="picker" placeholder="Fecha de Nacimiento" formControlName="FechaNacimiento">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
            <div class="w-full flex flex-wrap">
                <mat-form-field class="w-full">
                    <mat-label>Dirección</mat-label>
                    <input type="text" matInput placeholder="Dirección" formControlName="Direccion">
                </mat-form-field>
            </div>          
            <mat-form-field class="w-full">
                <mat-label>Ciudad</mat-label>
                <mat-select formControlName="CiudadID">
                    <mat-option *ngFor="let city of cities" [value]="city.city_id">
                        {{ city.name }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <div class="flex justify-center">
                <button mat-raised-button color="primary" type="submit" [disabled]="!patientForm.valid">
                    {{ isEdit ? 'Update' : 'Add' }}
                </button>
            </div>
        </form>
    </div>
</div>
